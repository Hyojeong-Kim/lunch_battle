# Lunch War 세계관 & 게임디자인 로그

> 이 문서는 효정이 여러 기기·클라우드에서 작업할 때를 위해  
> **세계관과 게임디자인 사고 과정을 기록**해두는 전용 로그입니다.
> - 대상: `Lunch War: Office Faction Battle(가제)` HTML5 버전
> - 목적: 나중에 “왜 이런 설정/구조가 되었는지”를 추적 가능하게 만들기

---

## 1. 프로젝트 한 줄 정체성

- 한 줄 요약(초안 → v1):
  - **“점심 메뉴로 사무실 세력을 갈라먹는 뚱냥이 직장인들의 전쟁 드라마급 점심 전쟁”**
- 방향성 메모:
  - 1차 타깃은 **한국에서 가볍게 테스트해볼 주변 사람들**이기 때문에,
    - 일본 역사 용어인 “전국시대”에 대한 사전지식을 전제로 삼지 않는다.
    - 대신 한국인에게도 직관적인 **전쟁/사극/전투 연출** 느낌을 기본 이미지로 삼는다.
  - 공간은 현대 사무실이지만, **점심시간만 되면 머릿속 연출은 “전쟁 드라마의 전투 신”**처럼 과장된다.
  - 플레이어는 특정 점심 진영(라멘/카레/돈카츠/우동 등)의 **‘대장’이 된 고양이 직장인**이다.
  - 내부적으로 기획/연출 참고용으로 “전국시대” 이미지를 가져올 수는 있지만,
    - 실제 게임 텍스트/연출에서는 **한국 플레이어가 자연스럽게 이해할 수 있는 표현**을 우선 사용한다.
   - 톤 레퍼런스:
     - 한국 영화 **「황산벌」**처럼, 전쟁/역사 배경이지만
       - **앞에서는** 진지한 명분과 전략을 말하지만,
       - **뒤에서는** 배고픔, 짜증, 자존심 같은 소소한 인간적 이유로 움직이는 느낌을 참고한다.
     - 다만 영화의 수위 높은 욕설·선정적/잔혹 요소는 그대로 가져오지 않고,
       - **직장인 밈 + 고양이 귀여움 + 약간의 블랙코미디** 정도로 톤을 순화한다.
  - 상황의 크기감:
    - 회식/프로젝트 수준의 “큰 의사결정”이 아니라,
      - 정말로 **“오늘 점심 뭐 먹지?”를 두고 동료들끼리 가볍게 떠드는 상황**을 기본 단위로 삼는다.
    - 다만 그 가벼운 잡담을 **과장해서 전쟁 드라마처럼 표현**하는 게 이 게임의 코미디 포인트다.

---

### 1-1. 플레이어 프로필 (대장 뚱냥이)

- 기본 설정:
  - 직무: **특정 직군으로 한정하지 않은, 평범한 일반 사무직** 고양이.
    - 이유: 개발/디자인/기획 등 어느 포지션의 플레이어도 자연스럽게 자기 모습을 투영할 수 있게 하기 위함.
  - 포지션:
    - 팀의 리더라기보다는, **동료들 사이에서 의견을 잘 모으는 “대장 역할”**을 맡게 된 상태.
  - 성격:
    - 일상적으로는 무난하고 성실한 편이지만,
    - **점심 메뉴 얘기만 나오면 갑자기 과몰입해서 전쟁 드라마 주인공처럼 변하는 타입**.
- 메모:
  - 추후 버전에서는 직군별 캐릭터(개발자 뚱냥이, 기획 뚱냥이 등)를 추가할 수 있지만,
    - 1차 HTML5 프로토타입에서는 “일반 사무직 대장 뚱냥이”를 기본 아바타로 사용한다.

---

### 1-2. 점심 직전 상황 패턴(컨텍스트)

- 컨텍스트 축 (1차 버전에서 사용하는 요소):
  1. **날씨(`weather`)**
     - 옵션:
       - `맑음`
       - `흐림`
       - `비`
       - `눈`
  2. **요일(`weekday`)**
     - 옵션:
       - `월`
       - `화/목`
       - `수`
       - `금`
     - 메모:
       - 엄밀한 요일 구분이라기보다,  
         “주 초 느낌 vs 노 잔업 데이와 불금 vs 나머지 요일 느낌” 정도의 감정 톤으로 사용.
  3. **월급 타이밍(`salary_timing`)**
     - 옵션:
       - `D-5` (월급 5일 전)
       - `월급날`
       - `D+5` (월급 5일 후)
     - 의미:
       - **모두의 지갑 사정이 얼마나 여유로운가**를 나타내는 지표.
       - 예:
         - `D-5`: 지갑이 말라가서 상대적으로 **가성비/저렴한 메뉴** 쪽 설득력이 올라감.
         - `월급날`: “오늘만은!” 느낌으로 **조금 비싸고 화려한 메뉴**의 설득력이 올라감.
         - `D+5`: 아직 여유는 있지만 이미 한 번쯤 쓴 상태라, **중간 수준 지출**을 선호하는 톤.

- 설계 메모:
  - `context` 예시:
    - `{ "weather": "비", "weekday": "목", "salary_timing": "D-5" }`
  - 나중에 각 Claim/Reason에  
    - `preferred_context` 또는 `context_tags` 형태로 연결시켜,
    - 현재 컨텍스트와 얼마나 잘 맞는지에 따라 **설득력/세력 이동량 가중치**를 주는 방향을 고려한다.

---

### 1-3. 대화가 이루어지는 공간 이미지

- 기본 장소:
  - **팀 자리 주변의 오픈 데스크/파티션 앞**을 기본 배경으로 상정한다.
    - 다들 모니터 앞에서 일하다가, 점심 시간이 가까워지면
      - 의자에서 반쯤 일어나거나,
      - 통로 쪽으로 의자를 돌려 앉아서
      - “오늘 뭐 먹어요?”라는 말을 주고받는 장면.
- 이유:
  - 회의실/탕비실보다,
    - “업무 모드에서 점심 모드로 살짝 기울어진 순간” 느낌이 더 잘 살아남.
  - 화면 연출 시, **모니터·서류·포스트잇 같은 사무실 오브젝트**와
    - 라멘/카레/돈카츠 등의 **전쟁 드라마급 이펙트**를 겹쳐서 표현하기 좋다.
- 메모:
  - 추후 다른 모드/에피소드에서
    - 탕비실, 회의실 앞, 엘리베이터 앞 등 다른 장소를 추가할 수 있으나,
    - 1차 프로토타입에서는 “팀 자리 주변 오픈 데스크” 이미지를 기본값으로 한다.

---

## 2. 플레이 구조 요약 (5~7턴, 세력치 100)

- 세력치:
  - 총 인원: **100명**
  - 시작: 플레이어 진영 50 / CPU 진영 50

### 2-1. 한 판의 턴 구조 (v1 결정안)

1. **컨텍스트 확정**
   - 오늘의 `weather` / `weekday` / `salary_timing`이 한 판 시작 시점에 정해진다.
2. **플레이어 선택 (A안 채택)**
   - **매 턴마다 Claim / Reason / Style 세 가지를 모두 새로 고른다.**
   - 즉, 한 턴 = “새 문장 빌드업 → 이번 턴 한 방 설득” 구조.
3. **문장 확정**
   - 선택된 Claim + Reason + Style을 합쳐 한 문장을 만든다.
   - 이 문장은 플레이어의 **주관적인 감정/전쟁 드라마식 과장**까지 포함한다고 본다.
   - 별도의 “뒷연출(내적 독백/속마음 UI)”은 v1에서는 구현하지 않는다.
     - 이유: 변수가 과도하게 늘어나기 때문에,  
       먼저 **문장 1개 = 한 턴의 설득 결과**만 명확히 다루는 쪽을 우선.
4. **CPU 리액션**
   - v1에서는 CPU가 **문장으로 반박/대꾸하는 단계까지는 가지 않는다.**
   - 대신, 플레이어 문장의 **논리적 완성도(데이터/규칙 기반 점수)**에 따라
     - 간단한 리액션(예: “살짝 수긍”, “고개를 갸웃”, “조금 찔림” 등)을 표현하는 정도로 제한한다.
   - 추후 LLM 또는 복잡한 대사 시스템을 붙일 수 있지만,
     - 현재 버전에서는 **AI 텍스트 생성 의존 없이도 완결되는 구조**로 설계한다.
5. **세력 이동 계산**
   - 이번 턴 문장의 “설득력 점수”를 기준으로,
     - 플레이어/CPU 진영 인원이 **단계별로 이동**한다.
   - 이동량은 단일 고정값이 아니라,  
     **컨텍스트와 문장 궁합에 따라 달라지는 단계형 수치**로 할 것을 목표로 한다.
6. **턴 종료 및 게임 종료**
   - 위 과정을 5~7턴 반복.
   - 마지막 턴 종료 시:
     - 플레이어 인원이 51명 이상이면 승리, 그 외는 패배.

- 네러티브 관점:
  - 각 턴은 “점심 메뉴 얘기를 하며 던지는 한 마디”에 해당한다.
  - 플레이어는 매 턴 다른 논리/감정/스타일 조합으로 동료들의 마음을 조금씩 옮겨가려고 시도한다.

---

## 3. 시점과 톤

- 시점:
  - 기본적으로 **플레이어 = 대장 뚱냥이 직장인** 시점.
  - Claim/Reason/Style 문장은 “플레이어가 동료들에게 던지는 말”이라는 전제.
- 톤:
  - 피곤한 직장인 현실과, **전국시대 과장 연출**이 섞인 개그 톤.
  - “보고서 말투 + 군대/전국시대 말투 + 회사 밈”이 섞인 이상한 맛을 목표로 한다.

---

## 4. 진영(Faction) 초안 정리

- 라멘 진영
  - 이미지: 밤샘 야근과 함께하는 국물, 개발/디자인팀의 단짝.
  - 키워드: 국물 버프, 야근, 즉각적인 위로, “국물은 배신하지 않는다”.
- 카레 진영
  - 이미지: 안정적인 포만감, 월말 보고서 버티기, PM/기획팀 느낌.
  - 키워드: 탄수+커리 파워, 장기전, 꾸준함.
- 돈카츠 진영
  - 이미지: 튀김 방패 들고突撃, 프라이데이 버프, “결전의 날” 이미지.
  - 키워드: 한 방, 기름기, “오늘은 질 수 없다”.
- 우동/기타 진영
  - 이미지: 속 편한 선택, 중립파·타협안, 건강/다이어트 명분.
  - 키워드: 타협, 조정자, 회의 많은 날의 선택.

> 메모: 나중에 Claim/Reason/Style 데이터에 `faction` 필드를 붙여  
> 라멘 전용, 카레 전용, 공통 문장을 나누는 방향을 고려 중.

### 4-1. 메뉴 / 메뉴 카테고리 개념

- 상위 개념: **메뉴 카테고리(`menu_category`)**
  - 예시:
    - `korean` (한식)
    - `western` (양식)
    - `japanese` (일식)
    - `chinese` (중식)
- 하위 개념: **메뉴(`menu_item`)**
  - 예시:
    - 제육볶음, 김치찌개, 순두부찌개 → `korean` 카테고리 소속
    - 라멘, 돈카츠 → `japanese` 카테고리 소속
    - 짜장, 짬뽕 → `chinese` 카테고리 소속
- 진영(`faction`)과의 관계:
  - `faction`은 “라멘/카레/돈카츠/우동” 같은 **메뉴 라인 또는 세력 이름**에 가깝고,
  - `menu_item`은 그 안의 **구체적인 메뉴 선택지**로 볼 수 있다.
- 선택 방식 (줏대 규칙):
  - 한 판을 시작할 때:
    1. 플레이어가 **구체적인 메뉴(`menu_item`)를 선택**한다.  
       - 예: “오늘은 제육볶음이다”, “오늘은 김치찌개다”.
    2. 선택된 메뉴가 속한 **메뉴 카테고리(`menu_category`)**가 자동으로 결정된다.  
       - 제육/김찌 → `korean` 세트, 라멘/돈카츠 → `japanese` 세트 등.
    3. 실제 논리 배틀에서 사용되는 **3×3×3 문장 세트는 이 카테고리 단위로 불러온다.**
       - 즉, “제육 vs 김찌”는 플레이어의 취향/역할 플레이를 드러내는 전면 선택지이고,
       - 문장 풀은 둘 다 **동일한 한식(`korean`) 카테고리용 3×3×3 세트**를 공유한다.
  - 메모:
    - 메뉴 선택은 “오늘 나는 이 메뉴를 밀겠다”는 맛/캐릭터 연출용이고,
    - 카테고리는 “이 메뉴가 속한 큰 계열(한식/양식/일식/중식)”을 정해  
      **어떤 논리/문장 세트를 쓸지 결정하는 기술적 기준**이 된다.

---

---

## 5. 문장 시스템 설계 메모 (Claim / Reason / Style)

- 기본 규칙:
  - **문장 1개 = Claim + Reason + Style** 구조를 항상 유지한다.
  - **각 요소별 선택지는 “정확히 3개”만 둔다.**
    - Claim: 3개
    - Reason: 3개
    - Style: 3개
  - 즉, 한 턴에 플레이어는
    - Claim 3개 중 1개,
    - Reason 3개 중 1개,
    - Style 3개 중 1개를 고르는 **3×3×3 고정 조합 구조(총 27가지 조합)**를 사용한다.
- 역할:
  - Claim: 오늘 점심 전투에 대한 “선언/결론”.
  - Reason: 사무실 상황, 컨디션, 업무 맥락을 담는 “근거”.
  - Style: **그 말을 어떤 태도/제스처/톤으로 하느냐를 나타내는 꼬리표**.
    - 예: `(떼쓰기 모드로)`, `(뿌잉뿌잉 하면서)`, `(쭈굴해져서)`, `(보고서 톤으로 차분하게)`, `(사극 대장처럼 호통치며)` 등
    - 즉, A=Reason, B=Claim이 “내용/논리”라면, C=Style은 **“어떤 모습으로 말하는지”를 나타내는 형용사/부사+제스처 묘사 레이어**이다.
- 데이터 구조(초기 구상):
  - JSON 기반, 이후 확장을 고려해 필드를 늘릴 수 있게 설계.
  - 예시 형태:
    - Claim:
      - `{ "text": "오늘 점심은 라멘 진영이 가야 한다고 본다", "faction": "ramen", "tone": "논리형" }`
    - Reason:
      - `{ "text": "오전 내내 야근 리포트 정리하느라 정신이 나갔기 때문", "context": ["야근","리포트"], "tone": "감성형" }`
    - Style:
      - `{ "text": "전국시대 대장 스타일로 과장되게", "tone": "과장형" }`

### 5-1. 데이터에 부여되는 “기본 설득력” 정보 (v1)

- 각 요소(Claim/Reason/Style)는 최소한 다음 정보를 가진다:
  - `id`: 내부 식별자 (예: `"claim_ramen_01"`).
  - `text`: 실제로 화면에 나오는 문장.
  - `faction`: `"ramen" | "curry" | "cutlet" | "udon" | "neutral"` 중 하나.
  - `tone`: `"논리형" | "감성형" | "유머형"` 등, 문장 톤 분류.
  - `tags`: 컨텍스트와의 궁합을 위해 붙이는 태그 배열.
    - 예: `["비", "추움", "월급직후"]`
  - `base_power`: 1~3 사이의 작은 정수.
    - 이 문장 자체의 **기본 설득력/완성도**를 나타낸다.
- 예시 (개념용):
  - Claim:
    - `{ "id": "claim_ramen_01", "text": "...", "faction": "ramen", "tone": "논리형", "tags": ["추움"], "base_power": 2 }`
  - Reason:
    - `{ "id": "reason_overtime_01", "text": "...", "tone": "감성형", "tags": ["야근","지침"], "base_power": 3 }`
  - Style:
    - `{ "id": "style_bossy_01", "text": "...", "tone": "유머형", "tags": ["불금"], "base_power": 1 }`

### 5-2. 한 문장의 “설득력 점수” 계산 개념 (v1)

- 목표:
  - LLM 없이도, **데이터 + 간단한 규칙**만으로 “이번 말이 얼마나 먹혔는지”를 판단한다.
- 단계 1: 기본 점수 합산
  - `base_total = claim.base_power + reason.base_power + style.base_power`
  - 대략 3~9 사이의 숫자가 나온다.
- 단계 2: 컨텍스트 보너스
  - 현재 `context` (날씨/요일/월급 타이밍)와 각 요소의 `tags`를 비교한다.
  - 각 요소마다, 잘 맞는 태그가 있을수록 작은 보너스를 준다.
    - 예: 태그 1개 일치 → +1, 최대 +2까지 등 (세부 수치는 이후 밸런싱 단계에서 조정).
  - 세 요소의 보너스를 합쳐 `context_bonus`를 만든다.
- 단계 3: 최종 점수와 단계 구분
  - `total_score = base_total + context_bonus`
  - 이 값을 구간으로 나눠 **3단계 정도의 설득력 레벨**로 단순화한다.
    - 예시:
      - 0~4: 약한 설득 (근소) → 세력 이동량: ±4명
      - 5~7: 보통 설득 (꽤 먹힘) → 세력 이동량: ±6명
      - 8 이상: 강한 설득 (상당히 먹힘) → 세력 이동량: ±8명
- CPU 리액션과의 연결:
  - CPU는 별도 문장을 생성하지 않고,
    - 위 설득력 레벨에 따라 **표정/리액션 텍스트**만 다르게 보여준다.
    - 예:
      - 약한 설득: “동료들이 시큰둥해 한다.”
      - 보통 설득: “여럿이 고개를 끄덕이며 이쪽으로 기울기 시작했다.”
      - 강한 설득: “자리 곳곳에서 ‘그거 좋다’는 말이 터져 나온다.”
- 메모:
  - 이 모델은 **데이터를 손으로 튜닝하면서도 이해하기 쉬운 구조**를 우선한다.
  - 나중에 필요할 경우, 특정 Claim-Reason 조합에 대한 별도 시너지 테이블을 추가하는 식으로만 조금씩 확장한다.

---

## 6. 라멘 진영 1차 문장 세트 (초안)

> 목적: 실제 JSON 설계에 앞서,  
> 라멘 진영 기준 Claim/Reason/Style 샘플을 만들어 톤과 데이터 필드를 검증한다.

> v1 결정:
> - Claim / Reason / Style은 각각 **3개씩만 존재**하는 고정 풀로 설계한다.
> - 이후 확장판에서만 3개 세트를 여러 묶음으로 늘리는 방식을 고려한다.

> 카테고리 메모:
> - 각 3×3×3 세트는 하나의 `menu_category`에 속한다.
> - 게임은 한 판을 시작할 때
>   - 플레이어가 **구체적인 메뉴(`menu_item`)를 고르면**,  
>   - 해당 메뉴에 매핑된 `menu_category`를 기준으로 3×3×3 세트를 불러온다.
> - v1 구현에서는:
>   - 우선 “일식 계열 라멘 세트”처럼, 하나의 카테고리 세트를 고정으로 쓰되,
>   - UI/데이터 설계 단계에서 이미 `menu_item → menu_category → 3×3×3 세트` 흐름을 전제로 잡는다.

### 6-1. Claim 샘플

1. `claim_ramen_01`
   - text: `오늘 점심은 라멘 진영이 국물로 이 사무실을 구원해야 합니다.`
   - faction: `ramen`
   - tone: `논리형`
   - tags: `["추움","지침"]`
   - base_power: `2`
2. `claim_ramen_02`
   - text: `지금 이 체력으로는, 국물 들어간 라멘 말고는 버틸 수가 없습니다.`
   - faction: `ramen`
   - tone: `감성형`
   - tags: `["지침","월말"]`
   - base_power: `3`
3. `claim_ramen_03`
   - text: `오늘 라멘 안 먹으면, 오후 회의에서 바로 전사자 나옵니다.`
   - faction: `ramen`
   - tone: `유머형`
   - tags: `["불금","회의"]`
   - base_power: `2`

### 6-2. Reason 샘플

1. `reason_overtime_01`
   - text: `어제 야근으로 간이 다 말라서 지금 국물 보충이 시급하기 때문입니다.`
   - tone: `감성형`
   - tags: `["야근","지침","추움"]`
   - base_power: `3`
2. `reason_weather_01`
   - text: `밖에 비까지 오는데, 따뜻한 국물 한 번은 줘야 팀 사기가 돌아오기 때문입니다.`
   - tone: `논리형`
   - tags: `["비","지침"]`
   - base_power: `2`
3. `reason_report_01`
   - text: `월말 리포트 지옥 들어가기 전에, 지금이라도 라멘으로 정신줄을 붙잡아야 하기 때문입니다.`
   - tone: `논리형`
   - tags: `["월말","리포트"]`
   - base_power: `2`

### 6-3. Style 샘플

1. `style_briefing_01`
   - text: `팀장님 앞 보고서 브리핑하듯, 차분하게 조목조목 설명하는 톤으로.`
   - tone: `논리형`
   - tags: `["월","회의"]`
   - base_power: `2`
2. `style_drama_01`
   - text: `사극 전투 장면처럼, 오늘 라멘을 먹지 않으면 모두가 쓰러질 것 같은 절박한 톤으로.`
   - tone: `감성형`
   - tags: `["추움","비","지침"]`
   - base_power: `3`
3. `style_meme_01`
   - text: `회사 단톡방 밈 쓰듯, 반은 진담 반은 농담인 톤으로 툭 던지듯이.`
   - tone: `유머형`
   - tags: `["불금","화/목"]`
   - base_power: `1`

---

## 6. 현재 HTML5 프로토타입와의 연결 상태

- 구현된 것:
  - `index.html` / `style.css` / `main.js`:
    - Claim/Reason/Style 각각에 대해 **랜덤 선택 버튼**을 제공.
    - `data/claims.json`, `reasons.json`, `styles.json`에서 텍스트를 읽어와 한 문장으로 조합.
- 아직 미구현 (향후 단계):
  - 세력치(100명) 표시 UI 및 턴 진행 버튼.
  - CPU의 반박 문장 생성 및 결과 판정 로직.
  - 진영별 전용 문장/속성에 따른 점수/세력 이동량 계산.

---

## 7. 향후 플랫폼/엔진 전개 메모

- 현재:
  - **브라우저에서 바로 실행 가능한 HTML5 프로토타입**을 1차 목표로 삼는다.
  - 순수 HTML/CSS/JS를 기본으로 설계하고, 데이터 구조는 엔진/플랫폼과 크게 무관한 형태(JSON 중심)로 유지한다.
- 중장기 계획(메모):
  - 이후 단계에서 **Godot 엔진으로의 컨버전**을 고려한다.
    - 목표: 동일/유사한 게임 로직과 데이터 구조를 Godot 프로젝트로 옮길 수 있게 해두기.
    - 특히 Claim/Reason/Style, 세력치/턴 규칙을 **엔진에 상관없는 규칙 레벨**로 정의해두는 것을 지향.
  - Godot 버전에서는 **Android용 .apk 빌드 가능성**을 열어둔다.
    - “점심 회의 시간에 몰래 켜보는 모바일 버전”이라는 이미지로 확장 가능.
  - 이 문서에는 “HTML5 → Godot → .apk”로 이어지는 설계 상의 제약/결정을 계속 기록해  
    나중에 컨버전 시 “왜 이렇게 구현했는지”를 추적할 수 있게 만든다.

---

## 8. 추후 로그용 섹션 (작성 예정)

- A. 라멘 진영 1차 문장 세트 설계 과정
- B. 세력치/턴 밸런싱 시도들 (수치 변경 이유 포함)
- C. CPU AI 반박 패턴 아이디어와 버전별 변화
- D. 장기적으로 고려할 엔딩 연출/랭크 연출 아이디어

> 이후 대화에서 세계관/규칙과 관련된 새로운 결정이 나오면  
> 이 문서에 항목을 추가하거나 보완하는 방식으로 “사고 로그”를 계속 확장한다.


